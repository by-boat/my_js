<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Document</title>
  </head>
  <body>
    <script>
      /** 
         * 单例模式
         * 保证一个类仅有一个实例，并提供一个访问它的全局访问点。实现的方法为先判断实例存在与否，如果存在则直接返回，如果不存在就创建了再返回，这就确保了一个类只有一个实例对象。
         * 适用场景：一个单一对象。比如：弹窗，无论点击多少次，弹窗只应该被创建一次。
        */
      class CreateUser {
        constructor(name) {
          this.name = name;
          this.getName();
        }
        getName() {
          return this.name;
        }
      }
      // 代理实现单例模式
      var ProxyMode = (function () {
        var instance = null;
        return function (name) {
          if (!instance) {
            instance = new CreateUser(name);
          }
          return instance;
        };
      })();
      // 测试单体模式的实例
      var a = new ProxyMode("aaa");
      var b = new ProxyMode("bbb");
      // 因为单体模式是只实例化一次，所以下面的实例是相等的
      console.log(a === b); //true

      const aa = new CreateUser();
      const bb = new CreateUser();
      console.log(aa === bb); // false
    </script>
  </body>
</html>
