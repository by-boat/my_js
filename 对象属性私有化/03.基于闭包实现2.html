<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Document</title>
  </head>
  <body>
    <script>
      /**
       * è¯¥æ–¹æ³•åŸºäº02é—­åŒ…çš„å®ç°åŒºåˆ«åœ¨äºï¼š02é—­åŒ…æ˜¯æ¯ä¸ªå®ä¾‹ä¸­éƒ½ä¼šæœ‰ä¸€ä¸ªgetNameæ–¹æ³•ä¼šå¢åŠ èµ„æºå ç”¨
       * ç»´æŠ¤ä¸€ä¸ªå¯¹è±¡ä»¥åŠä¸€ä¸ªidï¼Œæ‰€æœ‰å®ä¾‹çš„nameå±æ€§éƒ½é€šè¿‡ idï¼šnameçš„å½¢å¼ä¿å­˜åœ¨å¯¹è±¡ä¸­ï¼ŒgetNameæ–¹æ³•ä¸éœ€è¦ç»™æ¯ä¸ªå®ä¾‹éƒ½å®šä¹‰ï¼Œè€Œæ˜¯æ”¾åœ¨åŸå‹å¯¹è±¡ä¸Šï¼Œè°ƒç”¨æ—¶é€šè¿‡å®ä¾‹çš„idå»å¯¹è±¡ä¸­è·å–value
       *
       * è¿™ç§æ–¹å¼åœ¨ç›®å‰ES5ç¯å¢ƒä¸‹ï¼ŒåŸºæœ¬æ˜¯æœ€ä½³æ–¹æ¡ˆäº†ã€‚ä½†æ˜¯ä»ç„¶æœ‰ä¸€ä¸ªè‡´å‘½çš„ç¼ºé™·ï¼š
       * æ•£åˆ—è¡¨privateDataå¯¹æ¯ä¸ªå®ä¾‹éƒ½æ˜¯å¼ºå¼•ç”¨ï¼Œå¯¼è‡´å®ä¾‹ä¸èƒ½è¢«åƒåœ¾å›æ”¶å¤„ç†ã€‚å¦‚æœå­˜åœ¨å¤§é‡å®ä¾‹å¿…ç„¶ä¼šå¯¼è‡´å†…å­˜æ³„æ¼
       */
      var Person_ = (function () {
        var privateData = {};
        var privateId = 0;

        function Person(name) {
          // åˆ›å»ºå®ä¾‹æ—¶åœ¨å®ä¾‹ä¸­ç”Ÿæˆå”¯ä¸€id
          Object.defineProperty(this, "_id", { value: privateId++ });

          // å¹¶ä»¥_idä¸ºkey nameä¸ºvalueå­˜å…¥privateDataå¯¹è±¡ä¸­
          privateData[this._id] = {
            name: name,
          };
        }

        // åŸå‹ä¸Šçš„getNameæ–¹æ³•ï¼Œè°ƒç”¨æ—¶ä¼šé€šè¿‡å®ä¾‹idè¿”å›å¯¹åº”çš„value
        Person.prototype.getName = function () {
          return privateData[this._id].name;
        };

        return Person;
      })();
      const person1 = new Person_("å½¦ç¥–");
      const person2 = new Person_("å† å¸Œ");
      console.log("ğŸš€ ~ file: 03.åŸºäºmap.html ~ line 30 ~ person1", person1);
      console.log("ğŸš€ ~ file: 03.åŸºäºmap.html ~ line 30 ~ person1", person2);
    </script>
  </body>
</html>
